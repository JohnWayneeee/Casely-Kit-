
# /casely.init

## Назначение
Инициализация персональных правил на основе примеров пользователя. Создаёт `config/user-rules.mdc`, описывая точную структуру, стиль и терминологию.

## Синтаксис
```
/casely.init [Автор]
```
- `[Автор]` — ФИО в формате `Фамилия И.О.`; будет подставляться как автор тест-кейсов.

## Поддерживаемые входные форматы примеров (MVP)
- Текст: `md`, `txt`
- Изображения: `png`, `jpg` (OCR; точность зависит от качества)
- `docx/pdf` — не поддержаны в MVP (предложить конвертацию)

## Алгоритм
1. Проверить наличие файлов в `test-case-examples/`. Если папка пуста → вернуть ошибку и попросить 3–5 примеров.
2. Считать ВСЕ поддерживаемые файлы из `test-case-examples/`.
3. Проанализировать:
   - Структуру тест-кейсов: секции, порядок, таблицы/списки/заголовки.
   - Форматы полей: ID, Название, Предусловия, Шаги, ОР, Метаданные.
   - Стиль: императив/инфинитив, терминология, детализация, нумерация шагов, формат результатов.
   - Паттерны: приоритеты, статус, автор, формат ID, тестовые данные.
4. Сгенерировать `config/user-rules.mdc` с:
   - Метаданными: автор, дата создания, кол-во примеров.
   - Точной структурой таблиц/секций (как в примерах).
   - Стилем написания шагов/результатов/предусловий.
   - Паттернами ID, приоритетов, статусов, терминологией.
5. Вывести сводку анализа в чат.

## Шаблон успешного ответа
```
✅ Инициализация завершена!
Проанализировано примеров: {N}
Обнаруженная структура:
- Формат: {таблицы/списки/...}
- Секции: {перечень}
- Стиль шагов: {императив/инфинитив/...}
- Автор: {Фамилия И.О.}

Персональные правила созданы: config/user-rules.mdc
Теперь можно использовать /casely.generate
```

## Шаблон ошибок
- Примеры не найдены:
```
❌ Примеры не найдены.
Положите 3–5 файлов в test-case-examples/ (md/txt/png/jpg).
Затем выполните: /casely.init Фамилия И.О.
```
- Формат не поддержан:
```
❌ Формат файла не поддержан (docx/pdf).
Пожалуйста, конвертируйте в md/txt или png/jpg.
```

